name: Repository Dispatch Trigger

on:
  workflow_dispatch:

jobs:
  Trigger:
    runs-on: ubuntu-latest
    steps:
    - name: benc-uk/workflow-dispatch
      uses: benc-uk/workflow-dispatch@v1
      with:
        workflow: Builder
        repo: n-stone/test
        token: ${{ secrets.ACCESS_TOKEN }}
        inputs: '{ "parameter1": "Value1", "parameter2": "Value2", "parameter3": "Value3" }'  
    - name: peter-evans/repository-dispatch
      uses: peter-evans/repository-dispatch@v2
      with:
        token: ${{ secrets.ACCESS_TOKEN }}
        event-type: Builder
        client-payload: '{ "parameter1": "Value1", "parameter2": "Value2", "parameter3": "Value3" }'
    - name: aurelien-baudet/workflow-dispatch
      uses: aurelien-baudet/workflow-dispatch@v2
      with:
        workflow: Builder
        token: ${{ secrets.ACCESS_TOKEN }}
        wait-for-completion-interval: 5s
        inputs: '{ "parameter1": "Value1", "parameter2": "Value2", "parameter3": "Value3" }'
    - uses: actions/checkout@v3
    - name: workflow-dispatcher
      uses: ./.github/actions/workflow-dispatcher
      with:
        owner: n-stone
        repo: test
        token: ${{ secrets.ACCESS_TOKEN }}
        event_type: Builder
        client_payload: '{ "parameter1": "Value1", "parameter2": "Value2", "parameter3": "Value3" }'
        wait_time: 5
        max_time: 180
